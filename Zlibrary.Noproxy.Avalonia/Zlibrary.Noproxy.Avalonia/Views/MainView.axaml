<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Zlibrary.Noproxy.Avalonia.ViewModels"
             xmlns:converters="clr-namespace:Zlibrary.Noproxy.Avalonia.Converters"
             xmlns:views="clr-namespace:Zlibrary.Noproxy.Avalonia.Views"
             xmlns:materialIcons="clr-namespace:Material.Icons;assembly=Material.Icons"
             xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"

             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Zlibrary.Noproxy.Avalonia.Views.MainView"
             x:DataType="vm:MainViewModel">
  <Design.DataContext>
    <vm:MainViewModel />
  </Design.DataContext>

  <UserControl.Resources>
    <converters:BoolToBrushConverter x:Key="BoolToBrushConverter"/>
  </UserControl.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="60"/>
    </Grid.RowDefinitions>

    <!-- 内容显示区域 -->
    <ContentControl Grid.Row="0" 
                    Content="{Binding SelectedViewModel}"/>

    <!-- 底部导航栏 -->
    <Border Grid.Row="1" 
            Background="White"
            BorderBrush="LightGray"
            BorderThickness="0,1,0,0">
      
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 图书搜索 -->
        <Button Grid.Column="0"
                Command="{Binding NavigateCommand}"
                CommandParameter="Chat"
                Background="Transparent"
                BorderThickness="0">
          <StackPanel Orientation="Vertical" Spacing="4">
            <avalonia:MaterialIcon Width="24" Height="24"
                  HorizontalAlignment="Center"
                  Foreground="{Binding IsChatSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"
                  Kind="{x:Static materialIcons:MaterialIconKind.BookSearch}" />
            <TextBlock Text="搜索"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       Foreground="{Binding IsChatSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"/>
          </StackPanel>
        </Button>

        <!-- 下载 -->
        <Button Grid.Column="1"
                Command="{Binding NavigateCommand}"
                CommandParameter="Contacts"
                Background="Transparent"
                BorderThickness="0">
          <StackPanel Orientation="Vertical" Spacing="4">
            <avalonia:MaterialIcon Width="24" Height="24"
                  HorizontalAlignment="Center"
                  Foreground="{Binding IsContactsSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"
                  Kind="{x:Static materialIcons:MaterialIconKind.Download}" />
            <TextBlock Text="下载"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       Foreground="{Binding IsContactsSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"/>
          </StackPanel>
        </Button>

        <!-- 日志 -->
        <Button Grid.Column="2"
                Command="{Binding NavigateCommand}"
                CommandParameter="Discover"
                Background="Transparent"
                BorderThickness="0">
          <StackPanel Orientation="Vertical" Spacing="4">
            <avalonia:MaterialIcon Width="24" Height="24"
                  HorizontalAlignment="Center"
                  Foreground="{Binding IsDiscoverSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"
                  Kind="{x:Static materialIcons:MaterialIconKind.FileDocument}" />
            <TextBlock Text="日志"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       Foreground="{Binding IsDiscoverSelected, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='Blue|Gray'}"/>
          </StackPanel>
        </Button>
      </Grid>
    </Border>
  </Grid>
</UserControl>